<tool id="ludwig_config" name="Ludwig Model Configuration" version="@VERSION@" profile="@PROFILE@">
    <description>defines all the information needed to build and train a deep learning model</description>
    <macros>
        <import>ludwig_macros.xml</import>
    </macros>
    <expand macro="python_requirements" />
    <expand macro="macro_stdio" />
    <version_command>echo "@VERSION@"</version_command>
    <command>
        <![CDATA[
            python -c "import json; import yaml; fp=open('$output', 'w'); yaml.dump(json.load(open('$inputs')), fp, allow_unicode=True, default_flow_style=False); fp.close()"
        ]]>
    </command>
    <configfiles>
        <inputs name="inputs" />
    </configfiles>
    <inputs>
        <section name="input_features" title="Input Features" expanded="true">
            <repeat name="input_features" min="1" max="30" title="Input Feature Constructor">
                <conditional name="input_features" label="Construct a sinle input feature">
                    <param name="feature_type" type="select" label="Select the feature type">
                        <option value="numerical" selected="true">numerical</option>
                        <option value="binary">binary</option>
                        <option value="category">category</option>
                        <option value="set">set</option>
                        <option value="bag">bag</option>
                        <option value="sequence">sequence</option>
                        <option value="text">text</option>
                        <option value="timeseries">timeseries</option>
                        <option value="audio">audio</option>
                        <option value="image">image</option>
                        <option value="date">date</option>
                        <option value="h3">h3</option>
                        <option value="vector">vector</option>
                    </param>
                    <when value="numerical">
                        <conditional name="encoder_builder" label="Encoder Builder">
                            <param name="selected_encoder" label="Select an encoder">
                                <option value="passthrough" selected="true">passthrough</option>
                                <option value="dense">dense</option>
                            </param>
                            <when value="passthrough">
                                <expand macro="encoder_parameters" />
                            </when>
                            <when value="dense">
                                <expand macro="encoder_parameters">
                                    <param argument="num_layers" type="integer" value="1" optional="true" label="Number of stacked fully connected layers that the input feature passes through" />
                                    <param argument="fc_size" type="integer" value="256" optional="true" label="Size of the output of a fully connected layer" />
                                    <param argument="use_bias" type="boolean" checked="true" label="Whether the layer uses a bias vector" />
                                    <param argument="weights_initializer" type="select" label="Initializer for the weights matrix">
                                        <option value="constant">constant</option>
                                        <option value="identity">identity</option>
                                        <option value="zeros">zeros</option>
                                        <option value="ones">ones</option>
                                        <option value="orthogonal">orthogonal</option>
                                        <option value="normal">normal</option>
                                        <option value="uniform">uniform</option>
                                        <option value="truncated_normal">truncated_normal</option>
                                        <option value="variance_scaling">variance_scaling</option>
                                        <option value="glorot_normal">glorot_normal</option>
                                        <option value="glorot_uniform" selected="true">glorot_uniform</option>
                                        <option value="xavier_normal">xavier_normal</option>
                                        <option value="xavier_uniform">xavier_uniform</option>
                                        <option value="he_normal">he_normal</option>
                                        <option value="he_uniform">he_uniform</option>
                                        <option value="lecun_normal">lecun_normal</option>
                                        <option value="lecun_uniform">lecun_uniform</option>
                                    </param>
                                    <param argument="bias_initializer" type="select" label="Initializer for the bias vector">
                                        <option value="constant">constant</option>
                                        <option value="identity">identity</option>
                                        <option value="zeros" selected="true">zeros</option>
                                        <option value="ones">ones</option>
                                        <option value="orthogonal">orthogonal</option>
                                        <option value="normal">normal</option>
                                        <option value="uniform">uniform</option>
                                        <option value="truncated_normal">truncated_normal</option>
                                        <option value="variance_scaling">variance_scaling</option>
                                        <option value="glorot_normal">glorot_normal</option>
                                        <option value="glorot_uniform">glorot_uniform</option>
                                        <option value="xavier_normal">xavier_normal</option>
                                        <option value="xavier_uniform">xavier_uniform</option>
                                        <option value="he_normal">he_normal</option>
                                        <option value="he_uniform">he_uniform</option>
                                        <option value="lecun_normal">lecun_normal</option>
                                        <option value="lecun_uniform">lecun_uniform</option>
                                    </param>
                                    <param argument="weights_regularizer" type="select" label="Regularizer function applied to the weights matrix">
                                        <option value="none" selected="true">null</option>
                                        <option value="l1">l1</option>
                                        <option value="l2">l2</option>
                                        <option value="l1_l2">l1_l2</option>
                                    </param>
                                </expand>
                            </when>
                        </conditional>
                    </when>
                    <when value="binary">
                    </when>
                    <when value="category">
                    </when>
                    <when value="set">
                    </when>
                    <when value="bag">
                    </when>
                    <when value="sequence">
                    </when>
                    <when value="text">
                    </when>
                    <when value="timeseries">
                    </when>
                    <when value="audio">
                    </when>
                    <when value="image">
                    </when>
                    <when value="date">
                    </when>
                    <when value="h3">
                    </when>
                    <when value="vector">
                    </when>
                </conditional>
            </repeat>
        </section>
        <section name="output_features" title="Output Features" expanded="true">
        </section>
        <section name="combiner" title="Combiner" expanded="false">
        </section>
        <section name="training" title="Training" expanded="false">
        </section>
        <section name="preprocessing" title="Preprocessing" expanded="false">
        </section>
    </inputs>
    <outputs>
        <data format="txt" name="output" label="${tool.name}" />
        
    </outputs>
    <tests>
        <test>
        </test>
    </tests>
    <help>
        <![CDATA[
**What it does**



**Input**



**Output**



        ]]>
    </help>
    <citations>
        <citation type="bibtex">
        </citation>
    </citations>
</tool>
